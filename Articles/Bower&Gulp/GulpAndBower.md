**Что такое Bower?**

![](<1.png>)

Крупные проекты как правило используют большое количество сторонних библиотек,
таких как jQuery, различные UI и плагины к ним, компонентные фреймворки и
шаблоны к ним. Так вот, хранить весь этот сторонний код вместе с проектом не
очень удобно. А, если еще учесть, что каждая библиотека должна иметь хотя бы 2
файла: минифицированый и отладочный, то структура проекта превращается в свалку,
в которой уже довольно трудно разобраться. Хотелось бы совсем избавиться от
этого стороннего кода в репозитории. Вот для этого и нужен **Bower**.

**Подготовка**

Создадим пустой веб проект в VS. Установим в него Nuget HotTowel.Angular, это
структурированный шаблон приложения под AngularJs в котором уже добавлены
достаточно JS библиотек и файлов CSS. Нам он отлично подойдет для работы с Gulp.

**Установка Bower в VS2013.**

Следует сказать что разработчики Microsoft в версии ASP.NET VNEXT уже сразу
поставляют Bower с платформой, по этому вам нужно только брать и использовать.

И так, с начала требуется установить Node.js , так как Bower написан именно на
нём. Затем запускам консоль, переходим в папку с проектом, и пишем bower init,
следуем подсказкам.

![](<2.png>)

bower init – создаст файл bower.json. Именно в этом файле мы и будем подключать
все требуемые нам библиотеки. Библиотеки будут помещены в папку
bower\_components, которая создастся автоматически после подключения хотя бы
одной библиотеки.

![](<3.png>)

По умолчанию в VS не подключен intellisense для bower. Что бы подключить его,
заходим в Tools-\>Extensions and Updates-\>Online-\> в поиске пишем Bower и
устанавливаем Package Intellisense. Перезапускаем VS.

![](<4.png>)

Проверяем

![](<5.png>)

**Что такое Gulp?**

Gulp – это потоковый сборщик файлов. Нет, он не похож на MSBuild или Nant, он
занимается сборкой клиентских js библиотек, файлов CSS, сжатием картинок и
другими полезными штуками.

**Установка Gulp в VS 2013**

Открываем консоль, переходим в папку с проектом и пишем npm init (npm - node
package manager). Эта команда похожа на bower init, она создаст файл
package.json в котором мы будем подключать необходимые библиотеки.

![](<6.png>)

После этого установим intellisense для npm. Заходим Tools-\>Extensions and
Updates-\>Online-\> в поиске пишем Grunt Launcher. Перезапускаем среду. Grunt –
это так же сборщик клиентских библиотек, но он не потоковый, следовательно и
работает на много медленнее. После этого проверим intellisense и подключим gulp.

![](<7.png>)

**Работа с Gulp**

Для работы с gulp нам понадобятся его модули. Все модули (около 2000) и их
описание можно найти на <http://gulpjs.com/plugins/> . Подключим gulp-concat
–для склейки файлов, gulp-uglify – для минифицирования js файлов, del - для
очистки файлов и gulp-minify-css – для минификации css.

![](<8.png>)

Теперь создадим gulpfile.js, потому что именно он указан в нашем файле
package.json, и подключаемые модули можно использовать в нем. Листинг
gulpfile.js ниже:

![](<9.png>)

Теперь скачаем Task Runner в Extensions and Updates, он позволяет настроить
выполнение наших тасков автоматически. Поставим для таска default выполнение
перед билдом.

![](<10.png>)

Теперь делаем билд проекта, и смотрим на результирующие файлы.

![](<11.png>)

Минификация vendorCss.

![](<12.png>)

Стоит так же отметить, что таск watch отслеживает изменения в файлах и
автоматически билдит их, в нашем случае это файлы минификации.
